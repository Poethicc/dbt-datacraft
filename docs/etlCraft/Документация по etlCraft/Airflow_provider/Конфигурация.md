[https://adventum.kaiten.ru/space/339647/card/36376444](https://adventum.kaiten.ru/space/339647/card/36376444)

Типы конфигов:

- datacraft_variable
- other_variable
- file
- templated_file — файл будет сгенерирован дагом generate_confing и лежать по фиксированному месту. Список таких конфигов:
    - presets
    - metadata.yml
    - basic_config
    - etlcraft_defaults

source, path, format

Алгоритм генерации конфигов, имеющих тип templated_file (даг generate_configs):

- Очищать в папке models/0_configs всё, кроме файлов, заканчивающихся на _manual
- Проходить по списку конфигов. Если есть файл с суффиксом _manual, копировать или лучше делать симлинк в название без этого префикс
- Если файла с суффиксом нет, то копировать его из папки config_templates dbt-пакета etlfcraft
- В более сложной версии для конфига можно в path указывать “версию”, то есть префикс файла в config_templates, которую нужно копировать. То есть в config_templates может лежать metadata.yml, metadata-v1.yml, metadata-for-maxi, и пользователь может попросить при копировании брать нужную ему версию.
- Для метадаты нужно удалять

- connectors — коннекторы (докер-образы), которые нужно подключить в Airbyte
- presets — конфигурации Airbyte Source, Destination и Connection, которые используются при создании нового источника
- sources — список источников, которые хочет видеть пользователь с их настройками
- metadata — данные, которые нужны для создания пайплайна после combine-таблиц (например, список сущностей и линков)
- attribution_models — данные, которые нужны для формирования модели атрибуции
- basic_config — отдельные переменные, которые не входят в другие разделы

# Список конфигов


| Название       | Описание                                                                                                  | Тип по умолчанию | Формат по умолчанию |
| -------------- | --------------------------------------------------------------------------------------------------------- | ---------------- | ------------------- |
| [[connectors]] | Коннекторы (докер-образы), которые нужно подключить в Airbyte                                             | `templated_file` | `yaml`              |
| [[presets]]    | Конфигурации Airbyte Source, Destination и Connection, которые используются при создании нового источника | `templated_file` | `json`              |
