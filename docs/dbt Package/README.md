**Шаги и подшаги** записаны в соответствии с внутренней документацией: https://docs.google.com/spreadsheets/d/17L2DaVe9fkugxNb99yqwg9e5r3wZ1ia7S_RBx3ZHh9A/edit?gid=494885188#gid=494885188

**Единая структура описания макросов (от общего - к  частному):**
- Summary - Описание
- Usage - Использование
- Arguments - Аргументы
- Functionality - Функциональность
- Example - Пример
- Notes - Примечания   

**Макросы можно условно поделить на несколько категорий**:

- **main**: это “основные”, или главные, макросы.  Глобально - эти макросы прокладывают путь от сырых данных к финальным таблицам. В частности, они обеспечивают реализацию основных шагов по преобразованию данных. Всего таких шагов 7.
  
- **sub_main**: это подвиды “основных” макросов. В частности, они используются на шагах join, graph, attribution. Такие макросы нужны, когда основной макрос или перераспределяет работу по под-макросам в зависимости от источника данных (как на шаге join), или когда работа основного макроса распределяется по последовательным шагам (как в graph, attribution).
  
- **auxiliary**: это вспомогательные макросы. Они выполняют какую-то одну специальную техническую задачу, которую нужно решить в процессе исполнения “основного” макроса. Например, задать нормализовать имя столбцов, или задать “пустую” дату, если это необходимо.


```dataview
TABLE 
doc_status AS "Doc Status",
category AS "Category", 
step AS "Step", 
sub_step AS "Substep",
in_main_macro AS "In Main Macro"
FROM "dbt Package"
WHERE (file.name!="README"AND file.name!="TEMPLATE MAIN") 
AND (category="main")
SORT step, sub_step, category DESC, doc_status 
```

