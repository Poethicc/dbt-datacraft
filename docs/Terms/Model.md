---
term_name: Модель
description: Файл расширения .sql, с помощью которого dbt создает таблицу или view.
type: term
doc_status: in progress
---
В контексте использования [dbt](https://docs.getdbt.com/docs/introduction) (Data Build Tool), **модель** (model) — это ключевой компонент, представляющий собой SQL-запрос или набор SQL-запросов, который определяет процесс трансформации данных. Модели в dbt описывают, каким образом данные должны преобразовываться, объединяться и обогащаться для построения структурированных таблиц или представлений в базе данных, на основе которых можно проводить аналитические расчёты.
### Основные аспекты модели в dbt:
1. **SQL-файл с трансформациями**:
	- Каждая модель в dbt создаётся как SQL-файл, в котором описывается набор SQL-инструкций для выполнения определённых преобразований данных. Эти файлы обычно находятся в папке `/models` в [проекте dbt](https://docs.getdbt.com/docs/build/projects).
	- В SQL-файле модели могут быть различные инструкции, такие как `SELECT`, `JOIN`, `GROUP BY` и другие, чтобы создать целевую таблицу или представление с нужной структурой и агрегатами. В случае с **dataCraft Core** и входящего в него [[dbt Package/README|dbt Package]], каждая модель содержит вызов определённого [макроса](https://docs.getdbt.com/docs/build/jinja-macros) из `dbt Package`.
2. **Слои моделей**:
    - Модели в dbt можно разделить на несколько уровней/слоёв, например, такие как **Staging** (первичная обработка сырых данных), **Intermediate** (промежуточные слои для объединения и фильтрации данных), и **Marts** (итоговые таблицы для аналитических расчётов и визуализаций). [Подробнее про структурирование моделей в dbt проекте](https://docs.getdbt.com/best-practices/how-we-structure/1-guide-overview)
		По методологии **dataCraft Core** обработка данных также разделяется на несколько крупных слоёв, каждый из которых делится на более мелкие. Подробнее про слои в [[dbt Package/README|dbt Package]].
    - Структурирование моделей по слоям помогает организовать трансформации данных и улучшить читаемость проекта.
3. **Материализация моделей**:
    - dbt позволяет выбирать способ материализации моделей. Основные варианты — **table** (таблица) и **view** (представление), но также можно использовать **incremental** (инкрементальные обновления) и **ephemeral** (временные таблицы, которые хранятся только в памяти). Подробнее про материализацию в [официальной документации](https://docs.getdbt.com/docs/build/materializations). 
    - Выбор материализации важен для оптимизации работы с данными, так как разные подходы имеют разные требования к производительности и затратам на хранение.
4. **Связь моделей и управление зависимостями**:
    - Модели могут ссылаться друг на друга с помощью макроса `ref()`, что позволяет создавать зависимые цепочки трансформаций.
    - dbt автоматически отслеживает зависимости между моделями, создавая «граф зависимостей». Это упрощает управление обновлениями данных и упорядочение выполнения запросов.

### Пример модели в dataCraft Core


### Правила наименования моделей в dataCraft Core


